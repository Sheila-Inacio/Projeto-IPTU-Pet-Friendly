{% extends 'main.html' %}

{% block content %}
  {% include 'menu.html' %}

  <div class="col-8 m-auto pt-2 pb-2 text-center">
    <h1>Pagina de contribuintes</h1>
  </div>

  <div class="col-8 m-auto pt-3 pb-2 text-center">
    <a href="/cadastrarContribuinte/" class="btn btn-success">Adicionar</a>
  </div>

  <div class="col-8 m-auto pt-3 pb-2 text-center">
    <form method="get">
      <input type="text" id="search" name="search" class="form-control" placeholder="Buscar ..." />
    </form>
  </div>

  <div class="col-8 m-auto pt-4 pb-2 text-center">
    <table class="table">
      <thead class="thead-dark">
        <tr>
          <th scope="col">Nome completo</th>
          <th scope="col">CPF</th>
          <th scope="='col">Telefone</th>
          <th scope="col">Inscrição_municipal</th>
          <th scope="col">Ações</th>
        </tr>
      </thead>
      <tbody>
        {% for dbs in db %}
          <tr>
            <th>{{ dbs.id }}</th>
            <td>{{ dbs.nome_completo }}</td>
            <td>{{ dbs.cpf }}</td>
            <td>{{ dbs.telefone }}</td>
            <td>{{ dbs.inscricao_municipal }}</td>
            <td>
              <a href="/view/{{ dbs.id }}/" class="btn btn-dark">Visualizar</a>
              <a href="/edit/{{ dbs.id }}/" class="btn btn-primary">Editar</a>
              <a href="/delete/{{ dbs.id }}/" class="btn btn-danger btnDel">Deletar</a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <div class="pagination">
    {% if db.has_previous %}
      <a href="?page={{ db.previous_page_number }}"><</a>
    {% endif %}

    {{ db.number }}

    {% if db.has_next %}
      <a href="?page={{ db.next_page_number }}">></a>
    {% endif %}
  </div>

  {% load static %}
  <script src="{% static 'javascript.js' %}"></script>
{% endblock %}
